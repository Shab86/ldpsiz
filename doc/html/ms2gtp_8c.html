<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ldpsiz: ms2gtp.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ldpsiz
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">LDPSIZ is a system of programs written in C and Python, which uses linkage disequilibrium to estimate parameters describing the history of population size.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ms2gtp.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains code related ms2gtp, a program that translates output from Dick Hudson's `ms` program into .gtp format.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;getopt.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="misc_8h_source.html">misc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ini_8h_source.html">ini.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="tokenizer_8h_source.html">tokenizer.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8605e2b78cd4a81b6c6b5c30cb7366a"></a><!-- doxytag: member="ms2gtp.c::usage" ref="ae8605e2b78cd4a81b6c6b5c30cb7366a" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ms2gtp_8c.html#ae8605e2b78cd4a81b6c6b5c30cb7366a">usage</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse output of MS, produce gtp format, the input for eld. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a><!-- doxytag: member="ms2gtp.c::main" ref="a3c04138a5bfe5d72780bb7e82a18e627" args="(int argc, char **argv)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char **argv)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This file contains code related ms2gtp, a program that translates output from Dick Hudson's `ms` program into .gtp format. </p>
<p><a class="anchor" id="ms2gtp"></a> ms2gtp, a program that converts `ms` output into .gtp format ============================================================</p>
<p>This program is written in C, because the conversion involves transposing a large matrix, and this is faster in C. If you run it like "ms2gtp my_input_file_name", it will allocate internal arrays using default values. If your `ms` output is large, these arrays will be too small. The program will print an error message and abort. To avoid this problem, run the (unix or linux) command "grep positions
 ms.out | wc". This will print 3 numbers. The number of tokens must be as large as 2nd; buffer size as large as the 3rd. You can set these values using the `--maxTokens` and `--inBuffSize` arguments.</p>
<p>For example, I used `ms` to produce a file called `ms.out`. To find out how large to set the arrays, I executed</p>
<p>grep positions ms.out | wc</p>
<p>which produced the output</p>
<p>1 89366 1161757</p>
<p>This indicates that I need to accomodate input lines with 89366 tokens and 1161757 characters. So I ran `ms2gtp` like this:</p>
<p>ms2gtp --maxTokens 89370 --inBuffSize 1161800 ms.out &gt; ms.gtp</p>
<p>This reads input from file `ms.out` and writes to file `ms.gtp`. The first few lines of `ms.gtp` look like this:</p>
<p># ms2gtp was run Sat Feb 2 11:15:05 2013 # cmd line = ms2gtp -t 89370 -b 1161800 ms.out # sim cmd = ms 50 1 -t 20000 -r 20000 1000000 # nnucleotides = 1000000 # segsites = 89365 # nsequences = 50 # recomb rate per site = 1e-06 # ploidy = 1 # snp_id nucpos mappos alleles genotypes 0 1 0.000000006802 01 0011000000... 1 6 0.000000061255 01 0000000000...</p>
<p>In this example, I've truncated the genotypes on the right in order to fit them on the page.</p>
<p>Here is the usage message:</p>
<p>usage: ms2gtp [options] [input_file_name] where options may include: -t &lt;x&gt; or --maxTokens &lt;x&gt; maximum tokens per input line -b &lt;x&gt; or --inBuffSize &lt;x&gt; size of input buffer -R &lt;x&gt; or --recombination &lt;x&gt; rate for adjacent nucleotides -h or --help print this message To figure out appropriate values for -t and -b, execute the following at the command line:</p>
<p>grep positions ms.out | wc</p>
<p>where "ms.out" is the ms output file. This command prints 3 numbers. Number of tokens must be as large as 2nd; buffer size as large as the 3rd. If no input file is given, ms2gtp reads stdin. ms2gtp always writes to standard output.</p>
<dl class="copyright"><dt><b>Copyright:</b></dt><dd>Copyright (c) 2014, Alan R. Rogers &lt;<a href="mailto:rogers@anthro.utah.edu">rogers@anthro.utah.edu</a>&gt;. This file is released under the Internet Systems Consortium License, which can be found in file "LICENSE". </dd></dl>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed May 28 2014 13:55:07 for ldpsiz by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
